tinymce.PluginManager.add("phpmyfaq",function(a){"use strict";a.addButton("phpmyfaq",{image:"images/phpmyfaq.gif",onclick:()=>{a.windowManager.open({title:"Internal links",width:480,height:320,body:[{type:"textbox",name:"search",label:"Search",id:"pmf-internal-links"},{type:"container",name:"pmf-faq-list",id:"pmf-faq-list",minHeight:240}],onkeyup:()=>{const a=$("#pmf-internal-links").val(),n=location.protocol+"//"+location.host+location.pathname,t=top.tinymce.activeEditor.windowManager.getParams(),e=$("#pmf-faq-list");a.length>0&&$.ajax({type:"POST",url:n+"index.php?action=ajax&ajax=records&ajaxaction=search_records",data:"search="+a+"&csrf="+t.csrf,success:function(a){e.empty(),a.length>0&&e.append(a)}})},onsubmit:()=>{const n=$("input:radio[name=faqURL]:checked"),t='<a class="pmf-internal-link" href="'+n.val()+'">'+n.parent().text()+"</a>";a.insertContent(t)}},{csrf:$("#csrf").val()})}})});